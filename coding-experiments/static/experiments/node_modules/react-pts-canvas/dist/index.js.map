{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react';\nimport {CanvasSpace} from 'pts/dist/es5';\n\n\nexport class PtsCanvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.canvRef = React.createRef();\n    this.space = null;\n    this.form = null;\n    this._touch = false;\n  }\n\n  componentDidMount() {\n    this.init();\n    this._update();\n  }\n\n  componentDidUpdate() {\n    this._update();\n  }\n\n  componentWillUnmount() {\n    this.space.dispose();\n  }\n\n  _update() {\n    if (this.props.play) {\n      this.space.play();\n    } else {\n      this.space.playOnce(0);\n    }\n\n    if (this._touch !== this.props.touch) {\n      this._touch = this.props.touch;\n      this.space.bindMouse( this._touch ).bindTouch( this._touch );\n    }\n  }\n\n\n  // Required: Override this to use Pts' player `animate` callback\n  // See guide: https://ptsjs.org/guide/space-0500\n  animate( time, ftime) {\n    this.form.point( this.space.pointer, 20, \"circle\" );\n  }\n\n  \n  // Optional: Override this to use Pts' player `start` callback\n  start( bound, space ) {}\n\n\n  // Optional: Override this to use Pts' player `resize` callback\n  resize( size, evt ) {}\n\n\n  // Optional: Override this to use Pts' player `action` callback\n  action ( type, px, py, evt ) {}\n\n\n  init() {\n    this.space = new CanvasSpace( this.canvRef ).setup({\n      bgcolor: this.props.background, \n      resize: this.props.resize, \n      retina: this.props.retina\n    });\n\n    this.form = this.space.getForm();\n    this.space.add( this );\n  }\n\n  render() {\n    return (\n      <div className={ this.props.name || \"\" } style={ this.props.style }>\n        <canvas className={ this.props.name ? this.props.name+\"-canvas\" : \"\" } ref={ c => (this.canvRef=c) } style={ this.props.canvasStyle }></canvas>\n      </div>\n    );\n  }\n}\n\n\nPtsCanvas.defaultProps = {\n  name: \"pts-react\", // maps to className of the container div\n  background: \"#9ab\",\n  resize: true,\n  retina: true,\n  play: true,\n  touch: true,\n  style: {},\n  canvasStyle: {}\n}\n\n\nexport class QuickStartCanvas extends PtsCanvas {\n  \n  animate( time, ftime) {\n    if (this.props.onAnimate) this.props.onAnimate( this.space, this.form, time, ftime );\n  }\n\n  start( bound, space ) {\n    if (this.props.onStart) this.props.onStart( bound, space )\n  }\n\n  resize( size, evt ) {\n    if (this.props.onResize) this.props.onResize( this.space, this.form, size, evt );\n  }\n\n  action ( type, px, py, evt ) {\n    if (this.props.onAction) this.props.onAction( this.space, this.form, type, px, py, evt );\n  }\n\n}\n\n\nQuickStartCanvas.defaultProps = {\n  name: \"pts-react\", // maps to className of the container div\n  background: \"#9ab\",\n  resize: true,\n  retina: true,\n  play: true,\n  touch: true,\n  style: {},\n  canvasStyle: {},\n  onStart: undefined,\n  onAnimate: undefined,\n  onResize: undefined,\n  onAction: undefined\n}"],"names":["PtsCanvas","props","canvRef","React","createRef","space","form","_touch","init","_update","dispose","play","playOnce","touch","bindMouse","bindTouch","time","ftime","point","pointer","bound","size","evt","type","px","py","CanvasSpace","setup","background","resize","retina","getForm","add","name","style","c","canvasStyle","Component","defaultProps","QuickStartCanvas","onAnimate","onStart","onResize","onAction","undefined"],"mappings":"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"}